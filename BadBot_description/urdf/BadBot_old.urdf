<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from BadBot.xacro                   | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="BadBot">
  <material name="silver">
    <color rgba="0.700 0.700 0.700 1.000"/>
  </material>
  
<!-- =================================================================================== -->
<!-- |                               Transmission of joints                            | -->
<!-- =================================================================================== -->  
  
  <!-- <transmission name="Rev7_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="Rev7">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="Rev7_actr">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
  <transmission name="Rev8_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="Rev8">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="Rev8_actr">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission>
  
  <transmission name="Rev10_tran">
    <type>transmission_interface/SimpleTransmission</type>
    <joint name="Rev10">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
    </joint>
    <actuator name="Rev10_actr">
      <hardwareInterface>hardware_interface/EffortJointInterface</hardwareInterface>
      <mechanicalReduction>1</mechanicalReduction>
    </actuator>
  </transmission> -->
  
<!-- =================================================================================== -->
<!-- |                              Material Configuration                             | -->
<!-- =================================================================================== -->

  <gazebo reference="base_link">
    <material>Gazebo/Blue</material>
  </gazebo>
  <gazebo reference="caster_wheel_1">
    <material>Gazebo/Grey</material>
  </gazebo>
  <gazebo reference="right_wheel_1">
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="right_shaft_1">
    <material>Gazebo/Grey</material>
  </gazebo>
  <gazebo reference="left_wheel_1">
    <material>Gazebo/Black</material>
  </gazebo>
  <gazebo reference="left_shaft_1">
    <material>Gazebo/Grey</material>
  </gazebo>
  <gazebo reference="lidar_1">
    <material>Gazebo/Red</material>
  </gazebo>
  
<!-- =================================================================================== -->
<!-- |                                    Gazebo Plugins                               | -->
<!-- =================================================================================== -->

  <!-- ************** Diffrential drive plugin *************** -->
  
  <gazebo>
    <plugin filename="libgazebo_ros_control.so" name="control"/>
  </gazebo>
  <gazebo>
  <plugin name="wheel_drive_controller" filename="libgazebo_ros_diff_drive.so">

  <!-- wheels -->
  <left_joint>Rev10</left_joint>
  <right_joint>Rev8</right_joint>

  <!-- kinematics -->
  <wheel_separation>0.7</wheel_separation>
  <wheel_diameter>1.2</wheel_diameter>
  <max_wheel_torque>20.0</max_wheel_torque>
  <max_wheel_acceleration>1.0</max_wheel_acceleration>

  <!-- odometry  --> 
  <odometry_frame>odom</odometry_frame>
  <odometry_topic>odom</odometry_topic>
  <command_topic>cmd_vel</command_topic>
  <robot_base_frame>base_link</robot_base_frame>

  <publish_odom>true</publish_odom>
  <publish_odom_tf>true</publish_odom_tf>
  <publish_wheel_tf>false</publish_wheel_tf>
  <update_rate>30.0</update_rate>
  </plugin>
  </gazebo>
  
  <!-- ************** LIDAR plugin *************** -->
  
  <gazebo reference="lidar_1">
    <sensor type="ray" name="ydlidar">
      <pose>0 0 0 0 0 0</pose>
      <visualize>true</visualize>
      <update_rate>10</update_rate>
      <ray>
        <scan>
          <horizontal>
            <samples>720</samples>
            <resolution>1</resolution>
            <min_angle>-3.14159</min_angle>
            <max_angle>3.14159</max_angle>
          </horizontal>
        </scan>
        <range>
          <min>0.55</min>
          <max>8.0</max>
          <resolution>0.01</resolution>
        </range>
        <noise>
          <type>gaussian</type>
          <!-- Noise parameters based on published spec for Hokuyo laser
               achieving "+-30mm" accuracy at range < 10m.  A mean of 0.0m and
               stddev of 0.01m will put 99.7% of samples within 0.03m of the true
               reading. -->
          <mean>0.0</mean>
          <stddev>0.01</stddev>
        </noise>
      </ray>
      <plugin name="gazebo_ros_head_hokuyo_controller" filename="libgazebo_ros_laser.so">
        <topicName>/scan</topicName>
        <frameName>lidar_1</frameName>
      </plugin>
    </sensor>
  </gazebo>
  
<!-- =================================================================================== -->
<!-- |                                    PHYSICS CONFIG                               | -->
<!-- =================================================================================== -->
  
  <gazebo reference="base_link">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <self_collide>true</self_collide>
    <gravity>true</gravity>
  </gazebo>
  <gazebo reference="caster_wheel_1">
    <mu1>0.1</mu1>
    <mu2>0.1</mu2>
    <self_collide>true</self_collide>
  </gazebo>
  <gazebo reference="right_wheel_1">
    <mu1>1500</mu1>
    <mu2>1500</mu2>
    <self_collide>true</self_collide>
  </gazebo>
  <gazebo reference="right_shaft_1">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <self_collide>true</self_collide>
  </gazebo>
  <gazebo reference="left_wheel_1">
    <mu1>1500</mu1>
    <mu2>1500</mu2>
    <self_collide>true</self_collide>
  </gazebo>
  <gazebo reference="left_shaft_1">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <self_collide>true</self_collide>
  </gazebo>
  <gazebo reference="lidar_1">
    <mu1>0.2</mu1>
    <mu2>0.2</mu2>
    <self_collide>true</self_collide>
  </gazebo>
  
<!-- =================================================================================== -->
<!-- |                                    Base SETUP                                   | -->
<!-- =================================================================================== -->
  <!-- <link name="base_footprint"/> -->
  <link name="base_link">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.010480569242162507 0.14698117892049636 0.15180949497197077"/>
      <mass value="28.855052709016757"/>
      <inertia ixx="0.480495" ixy="-0.0" ixz="0.0" iyy="0.451805" iyz="-0.001119" izz="0.897614"/>
    </inertial>
    
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///home/mayank/BadBot/BadBot_ros2_ws/install/BadBot_description/share/BadBot_description/meshes/base_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <mesh filename="file:///home/mayank/BadBot/BadBot_ros2_ws/install/BadBot_description/share/BadBot_description/meshes/base_link.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
    
  </link>
  
 <!-- <joint name="base_joint" type="fixed">
      <parent>base_footprint</parent>
      <child>base_link</child>
      <pose>0.0 0.0 0.06 0 0 0</pose>
    </joint> -->
  
  <!-- *********************** CASTER WHEEL ********************** -->
  
  <link name="caster_wheel_1">
    <inertial>
      <origin rpy="0 0 0" xyz="4.307578375939425e-07 -4.657508867467186e-08 -1.1440255144601341e-07"/>
      <mass value="1.4008361642356892"/>
      <inertia ixx="0.000686" ixy="-0.0" ixz="-0.0" iyy="0.000686" iyz="0.0" izz="0.000686"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.010481 -0.035074 -0.108665"/>
      <geometry>
        <mesh filename="file:///home/mayank/BadBot/BadBot_ros2_ws/install/BadBot_description/share/BadBot_description/meshes/caster_wheel_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.010481 -0.035074 -0.108665"/>
      <geometry>
        <mesh filename="file:///home/mayank/BadBot/BadBot_ros2_ws/install/BadBot_description/share/BadBot_description/meshes/caster_wheel_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  
  <joint name="Rev7" type="ball">
    <origin rpy="0 0 0" xyz="-0.010481 0.035074 0.108665"/>
    <parent link="base_link"/>
    <child link="caster_wheel_1"/>
    <axis xyz="-0.0 -0.0 -1.0"/>
  </joint>
  
  <!-- *********************** WHEELS ********************** -->
  
  <link name="right_wheel_1">
    <inertial>
      <origin rpy="0 0 0" xyz="4.3075783662249734e-07 -3.580086045673614e-07 -1.1440259529982288e-07"/>
      <mass value="0.38540002551002456"/>
      <inertia ixx="0.000496" ixy="-0.0" ixz="-0.0" iyy="0.000299" iyz="0.0" izz="0.000299"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.139519 -0.226663 -0.123665"/>
      <geometry>
        <mesh filename="file:///home/mayank/BadBot/BadBot_ros2_ws/install/BadBot_description/share/BadBot_description/meshes/right_wheel_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.139519 -0.226663 -0.123665"/>
      <geometry>
        <mesh filename="file:///home/mayank/BadBot/BadBot_ros2_ws/install/BadBot_description/share/BadBot_description/meshes/right_wheel_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  
  <joint name="Rev8" type="revolute">
    <origin rpy="0 0 0" xyz="-0.0475 0.0 0.0"/>
    <parent link="right_shaft_1"/>
    <child link="right_wheel_1"/>
    <axis xyz="-1.0 0.0 0.0"/>
  </joint>
  
  <link name="left_wheel_1">
    <inertial>
      <origin rpy="0 0 0" xyz="4.307578380380317e-07 -3.5800860437307236e-07 -1.1440259496675598e-07"/>
      <mass value="0.38540002551002467"/>
      <inertia ixx="0.000496" ixy="-0.0" ixz="-0.0" iyy="0.000299" iyz="0.0" izz="0.000299"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.160481 -0.226663 -0.123665"/>
      <geometry>
        <mesh filename="file:///home/mayank/BadBot/BadBot_ros2_ws/install/BadBot_description/share/BadBot_description/meshes/left_wheel_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.160481 -0.226663 -0.123665"/>
      <geometry>
        <mesh filename="file:///home/mayank/BadBot/BadBot_ros2_ws/install/BadBot_description/share/BadBot_description/meshes/left_wheel_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  
  <joint name="Rev10" type="revolute">
    <origin rpy="0 0 0" xyz="-0.0475 0.0 0.0"/>
    <parent link="left_shaft_1"/>
    <child link="left_wheel_1"/>
    <axis xyz="-1.0 0.0 0.0"/>
  </joint>
  
  <!-- *********************** WHEEL SHAFTS ********************** -->
  
  <link name="right_shaft_1">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.04749956924216331 -3.5800860448409466e-07 -1.1440255119621323e-07"/>
      <mass value="0.23876104167282425"/>
      <inertia ixx="1.2e-05" ixy="-0.0" ixz="-0.0" iyy="0.000186" iyz="0.0" izz="0.000186"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="-0.187019 -0.226663 -0.123665"/>
      <geometry>
        <mesh filename="file:///home/mayank/BadBot/BadBot_ros2_ws/install/BadBot_description/share/BadBot_description/meshes/right_shaft_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="-0.187019 -0.226663 -0.123665"/>
      <geometry>
        <mesh filename="file:///home/mayank/BadBot/BadBot_ros2_ws/install/BadBot_description/share/BadBot_description/meshes/right_shaft_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  
  <joint name="Rigid9" type="fixed">
    <origin rpy="0 0 0" xyz="0.187019 0.226663 0.123665"/>
    <parent link="base_link"/>
    <child link="right_shaft_1"/>
  </joint>
  
  <link name="left_shaft_1">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.04749956924216181 -3.5800860459511696e-07 -1.1440255101580199e-07"/>
      <mass value="0.23876104167282444"/>
      <inertia ixx="1.2e-05" ixy="-0.0" ixz="-0.0" iyy="0.000186" iyz="0.0" izz="0.000186"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.112981 -0.226663 -0.123665"/>
      <geometry>
        <mesh filename="file:///home/mayank/BadBot/BadBot_ros2_ws/install/BadBot_description/share/BadBot_description/meshes/left_shaft_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.112981 -0.226663 -0.123665"/>
      <geometry>
        <mesh filename="file:///home/mayank/BadBot/BadBot_ros2_ws/install/BadBot_description/share/BadBot_description/meshes/left_shaft_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  
  <joint name="Rigid11" type="fixed">
    <origin rpy="0 0 0" xyz="-0.112981 0.226663 0.123665"/>
    <parent link="base_link"/>
    <child link="left_shaft_1"/>
  </joint>
  
  <!-- *********************** LIDAR ********************** -->
  
  <link name="lidar_1">
    <inertial>
      <origin rpy="0 0 0" xyz="-0.010656431259226684 0.13581878088609403 0.001968639103403391"/>
      <mass value="0.3543299620873657"/>
      <inertia ixx="0.000474" ixy="-2.3e-05" ixz="3e-06" iyy="0.000229" iyz="3.1e-05" izz="0.000616"/>
    </inertial>
    <visual>
      <origin rpy="0 0 0" xyz="0.00469 -0.156934 -0.208463"/>
      <geometry>
        <mesh filename="file:///home/mayank/BadBot/BadBot_ros2_ws/install/BadBot_description/share/BadBot_description/meshes/lidar_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
      <material name="silver"/>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0.00469 -0.156934 -0.208463"/>
      <geometry>
        <mesh filename="file:///home/mayank/BadBot/BadBot_ros2_ws/install/BadBot_description/share/BadBot_description/meshes/lidar_1.stl" scale="0.001 0.001 0.001"/>
      </geometry>
    </collision>
  </link>
  
  <joint name="Rigid12" type="fixed">
    <origin rpy="0 0 0" xyz="-0.00469 0.156934 0.208463"/>
    <parent link="base_link"/>
    <child link="lidar_1"/>
  </joint>
</robot>
